{namespace formbuilder=TYPO3\FormBuilder\ViewHelpers}
<html>
	<head>
		<f:base />
		<script src="{f:uri.resource(path:'Library/jquery-1.6.1.min.js')}"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
		<script src="{f:uri.resource(path:'Library/ember-0.9.3.js')}"></script>
		<script src="{f:uri.resource(path:'Library/dynatree-1.2.0/src/jquery.dynatree.js')}"></script>
		<link rel="stylesheet" href="{f:uri.resource(path:'Library/dynatree-1.2.0/src/skin/ui.dynatree.css')}" />

		<script src="{f:uri.resource(path:'Library/SlickGrid/lib/jquery.event.drag-2.0.min.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/slick.core.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/plugins/slick.cellrangedecorator.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/plugins/slick.cellrangeselector.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/plugins/slick.cellselectionmodel.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/plugins/slick.rowselectionmodel.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/plugins/slick.rowmovemanager.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/slick.editors.js')}"></script>
		<script src="{f:uri.resource(path:'Library/SlickGrid/slick.grid.js')}"></script>
		<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/smoothness/jquery-ui.css" />
		<link rel="stylesheet" href="{f:uri.resource(path:'Library/SlickGrid/slick.grid.css')}" />

		<style>
		html,body {margin:0;padding:0;}

		#app {
			height:100%;
			display: -webkit-box;
			-webkit-box-orient: vertical;
			-webkit-box-align:stretch;
		}

		#header {
			height:50px;
			background-color:#cdcdcd;
		}

		#footer {
			height:30px;
			background-color:#cdcdcd;
		}

		#content {
			-webkit-box-flex:1;
			display: -webkit-box;
				-webkit-box-orient: horizontal;
			-webkit-box-align:stretch;
		}

		#sidebar { width:300px; background-color:#676767;}

		#main {
			-webkit-box-flex:1;
			background-color:green;
		}

		.slick-row .cell-reorder {
			cursor: move;
			background: url("{f:uri.resource(path:'Library/SlickGrid/images/drag-handle.png')}") no-repeat center center;
		}

		#elementOptions {
			display:block;
			position:fixed;
			width: 300px;
			height:100%;
			right: 0;
			top: 0;
			background:white;
		}
		</style>

		<script type="text/javascript">
			FORMBUILDER_CONFIGURATION = {formbuilder:jsonConfiguration()};
		</script>

		<script type="text/x-handlebars" data-template-name="AvailableFormElements">
			{{#collection contentBinding="formElementsGrouped"}}
				<h2>{{content.label}}</h2>
				<ul>
				{{#collection contentBinding="content.elements"}}
					{{view TYPO3.FormBuilder.View.AvailableFormElementsElement formElementTypeBinding="content"}}
				{{/collection}}
				</ul>
			{{/collection}}
		</script>

		<script type="text/x-handlebars" data-template-name="LabelEditor">
			Identifier: {{view Ember.TextField valueBinding="identifier"}}<br />
			Label: {{view Ember.TextField valueBinding="label"}}<br />
		</script>
	</head>
	<body>
		<div id="app">
			<div id="header">
				<script type="text/x-handlebars">
					Form Builder -- <b>{{TYPO3.FormBuilder.Model.FormDefinition.identifier}}</b>
				</script>
			</div>
			<div id="content">
				<div id="sidebar">
					<script type="text/x-handlebars"><![CDATA[
						{{view TYPO3.FormBuilder.View.FormStructure}}
					]]></script>

					<script type="text/x-handlebars"><![CDATA[
						{{view TYPO3.FormBuilder.View.AvailableFormElementsView}}
					]]></script>
				</div>
				<div id="main">
					<script type="text/x-handlebars"><![CDATA[
						{{view TYPO3.FormBuilder.View.FormPageView}}
					]]></script>
				</div>
				<div id="elementOptions">
					<h2>Form Element Options</h2>
					<script type="text/x-handlebars"><![CDATA[
						{{view TYPO3.FormBuilder.View.FormElementInspector formElementBinding="TYPO3.FormBuilder.Model.Form.currentlySelectedRenderable"}}
					]]></script>
				</div>
			</div>
			<div id="footer">
				&copy; 2010 Awesome Productions Ltd.
			</div>
		</div>
		<script src="{f:uri.resource(path:'JavaScript/app.js')}"></script>
	</body>
</html>